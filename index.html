<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>CHEZ BAPTISTE ‚Äî Appartement √† Saly</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root{
    --bg:#0b1020;
    --card:#020617;
    --card-soft:#020617;
    --accent:#facc15;
    --accent-soft:#f97316;
    --ink:#f9fafb;
    --muted:#9ca3af;
    --line:#1f2937;

    /* Pastel S√©n√©gal */
    --sn-green:#00853F;
    --sn-green-soft:#E8F5EC;
    --sn-green-deep:#064E3B;
  }
  *{box-sizing:border-box;}
  body{
    margin:0; padding:0;
    background:radial-gradient(circle at top,#111827 0,#020617 55%);
    color:var(--ink);
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  }
  .app{
    max-width:980px;
    margin:0 auto;
    min-height:100vh;
    display:flex;
    flex-direction:column;
  }
  header{
    padding:14px 16px;
    display:flex;
    justify-content:space-between;
    gap:12px;
    align-items:center;
  }
  .brand{
    font-weight:700;
    font-size:18px;
  }
  .brand span{
    color:var(--accent);
  }
  .tag{
    font-size:11px;
    border-radius:999px;
    border:1px solid rgba(148,163,184,.6);
    padding:4px 10px;
    white-space:nowrap;
    color:var(--muted);
  }
  main{flex:1;padding:0 12px 16px;}

  .hero{
    background:linear-gradient(135deg,#111827,#020617);
    border-radius:18px;
    padding:16px;
    border:1px solid rgba(250,204,21,.4);
    display:grid;
    grid-template-columns:minmax(0,1.3fr) minmax(0,1fr);
    gap:16px;
    align-items:flex-start;
    box-shadow:0 20px 40px rgba(0,0,0,.7);
    margin-bottom:16px;
  }
  @media(max-width:900px){
    .hero{grid-template-columns:1fr;}
  }
  .hero h1{
    margin:0 0 6px;
    font-size:22px;
  }
  .hero p{
    margin:0 0 8px;
    font-size:13px;
    color:var(--muted);
  }
  .chips{
    display:flex;
    flex-wrap:wrap;
    gap:6px;
    margin-top:6px;
  }
  .chip{
    font-size:11px;
    border-radius:999px;
    border:1px solid rgba(148,163,184,.6);
    padding:4px 8px;
    color:var(--muted);
  }

  .hero-media{
    margin-top:10px;
  }
  .hero-photo{
    width:100%;
    max-height:220px;
    border-radius:14px;
    object-fit:cover;
    display:block;
    border:1px solid #1f2937;
  }
  .hero-caption{
    margin-top:4px;
    font-size:11px;
    color:var(--muted);
  }

  .price-block{
    background:#020617;
    border-radius:14px;
    border:1px solid #1f2937;
    padding:10px 12px;
    font-size:13px;
  }
  .price-block h2{
    margin:0 0 4px;
    font-size:14px;
    color:var(--accent);
  }
  .tarifs{
    display:flex;
    flex-direction:column;
    gap:4px;
    margin:6px 0;
  }
  .tarifs span{
    display:flex;
    justify-content:space-between;
  }

  .cta-col{
    display:flex;
    flex-direction:column;
    gap:8px;
    margin-top:14px;
  }
  .btn{
    border:none;
    border-radius:999px;
    padding:9px 12px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:6px;
    text-decoration:none;
  }
  .btn-wa{
    background:#16a34a;
    color:#ecfdf3;
  }
  .btn-call{
    background:#0f172a;
    color:#e5e7eb;
    border:1px solid #1f2937;
  }
  .btn-video{
    background:#111827;
    color:#e5e7eb;
    border:1px solid #334155;
    font-size:13px;
  }

  .layout{
    display:grid;
    grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);
    gap:12px;
  }
  @media(max-width:900px){
    .layout{grid-template-columns:1fr;}
  }

  .card{
    background:var(--card);
    border-radius:16px;
    border:1px solid var(--line);
    box-shadow:0 16px 32px rgba(0,0,0,.6);
    padding:12px;
  }
  .card h2{
    margin:0 0 4px;
    font-size:16px;
  }
  .card small{
    font-size:12px;
    color:var(--muted);
  }

  .form-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
    margin-top:8px;
  }
  @media(max-width:640px){
    .form-grid{
      grid-template-columns:1fr;
    }
  }

  .field label{
    display:block;
    font-size:11px;
    color:var(--muted);
    margin-bottom:2px;
  }
  .field input,
  .field select{
    width:100%;
    padding:7px 9px;
    border-radius:10px;
    border:1px solid var(--line);
    background:#020617;
    color:#f9fafb;
    font-size:13px;
  }
  .field input[type="date"]{
    color-scheme:dark;
  }

  .summary{
    margin-top:8px;
    font-size:14px;
    color:var(--muted);
  }
  .summary strong{
    color:var(--accent-soft);
  }

  footer{
    padding:8px 14px 14px;
    font-size:11px;
    color:var(--muted);
    text-align:center;
  }

  a.inline-link{
    color:var(--accent-soft);
    text-decoration:none;
  }
  a.inline-link:hover{
    text-decoration:underline;
  }

  /* ==== DIGIY LOC PREMIUM : titres & labels bien lisibles ==== */
  .digiy-title-strong {
    font-size:18px;
    font-weight:800;
    color:#ffffff !important;
  }
  .digiy-label-strong {
    font-size:14px;
    font-weight:700;
    color:#ffffff !important;
  }
  .digiy-black-strong {
    font-size:16px;
    font-weight:800;
    color:#ffffff !important;
  }

  .card h2.digiy-title-strong + small{
    color:#e5e7eb !important;
    font-weight:600;
  }
  .hero-caption{
    color:#e5e7eb !important;
    font-weight:500;
  }
  .field label{
    color:#ffffff !important;
    font-weight:600 !important;
  }
  input::placeholder,
  select{
    color:#cbd5e1 !important;
    font-weight:500;
  }

  /* Wave highlight */
  .pay-number {
    font-size:24px;
    font-weight:900;
    color:#22c55e; /* vert Wave */
    letter-spacing:1px;
  }
  .pay-note {
    font-size:14px;
    font-weight:700;
    color:#22c55e;
  }

  /* ===== BLOC WAVE ===== */
  .wave-card{
    margin-top:14px;
    padding:16px;
    border-radius:16px;
    background:#0f172a;
    border:2px solid #22c55e;
    box-shadow:0 0 22px rgba(34,197,94,0.28);
  }

  /* ===== BLOC R√âSA PASTEL S√âN√âGAL ===== */
  .resa-card{
    margin-top:4px;
    border-radius:18px;
    padding:14px 14px 16px;
    background:linear-gradient(135deg,var(--sn-green-soft),rgba(15,23,42,0.98));
    border:1px solid rgba(0,133,63,0.65);
    box-shadow:0 20px 40px rgba(0,0,0,0.8);
  }
  .resa-header{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    gap:8px;
    margin-bottom:8px;
    flex-wrap:wrap;
  }
  .resa-title-block h2{
    margin:0;
    font-size:18px;
  }
  .resa-title-block small{
    display:block;
    margin-top:2px;
    font-size:13px;
    color:#d1fae5;
  }
  .resa-badge{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:5px 10px;
    border-radius:999px;
    background:rgba(6,95,70,0.22);
    border:1px solid rgba(16,185,129,0.8);
    color:#a7f3d0;
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:0.08em;
    font-weight:700;
    white-space:nowrap;
  }
  .resa-badge-dot{
    width:8px;
    height:8px;
    border-radius:999px;
    background:#22c55e;
    box-shadow:0 0 10px rgba(34,197,94,0.9);
  }

  .resa-steps{
    margin-top:6px;
    margin-bottom:8px;
    font-size:13px;
    color:#dcfce7;
  }
  .resa-steps ul{
    margin:4px 0 0 16px;
    padding:0;
  }
  .resa-steps li{
    margin-bottom:3px;
  }

  .resa-summary-box{
    margin-top:10px;
    padding:10px;
    border-radius:12px;
    background:rgba(22,163,74,0.12);
    border:1px solid rgba(34,197,94,0.7);
    color:#dcfce7;
    font-size:13px;
  }
  .resa-summary-box strong{
    color:#bbf7d0;
  }
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="brand">CHEZ BAPTISTE ‚Äî <span>DIGIY LOC</span></div>
    <div class="tag">Appartement √† Saly ¬∑ 4 personnes max ¬∑ Quartier paisible</div>
  </header>

  <main>
    <!-- HERO AVEC PHOTO + CTA -->
    <section class="hero">
      <!-- Colonne gauche -->
      <div>
        <h1>Appartement CHEZ BAPTISTE ‚Äî Saly</h1>
        <p>
          Appartement confortable dans un quartier paisible de Saly, sans bruyance, id√©al pour les s√©jours
          en famille ou entre amis. Jusqu‚Äô√† 4 personnes, √† quelques minutes des commodit√©s et de la vie de Saly.
        </p>
        <div class="chips">
          <span class="chip">4 personnes max</span>
          <span class="chip">Quartier calme</span>
          <span class="chip">S√©n√©lec en sus</span>
          <span class="chip">R√©servation directe propri√©taire</span>
        </div>

        <div class="hero-media">
          <img src="https://digiylyfe.com/wp-content/uploads/2025/06/042-BAPTISTE.png"
               alt="Appartement CHEZ BAPTISTE √† Saly"
               class="hero-photo">
          <div class="hero-caption">
            Vue de l‚Äôappartement CHEZ BAPTISTE ‚Äî Saly (visuel DIGIY).
          </div>
        </div>
      </div>

      <!-- Colonne droite -->
      <div>
        <div class="price-block">
          <h2>Tarifs CHEZ BAPTISTE</h2>
          <div class="tarifs">
            <span><span>Nuit :</span><strong>30 000 F</strong></span>
            <span><span>Semaine :</span><strong>175 000 F</strong></span>
            <span><span>Mois :</span><strong>550 000 F</strong></span>
          </div>
          <div style="font-size:11px;margin-top:4px;color:var(--muted);">
            ‚ö° S√©n√©lec en sus selon consommation √©lectrique.
          </div>
        </div>

        <!-- BLOC WAVE PREMIUM -->
        <div class="wave-card">
          <div style="font-size:20px;font-weight:900;color:#ffffff;margin-bottom:8px;">
            üí≥ Paiement direct propri√©taire ‚Äî Wave
          </div>

          <div class="pay-number">
            +221 77 134 28 89
          </div>

          <div class="pay-note">
            ‚úî √Ä utiliser dans votre application Wave
          </div>

          <div style="margin-top:10px;font-size:15px;font-weight:700;color:#ffffff;">
            Propri√©taire : Jean Baptiste Beauville
          </div>
        </div>
        <!-- FIN BLOC WAVE -->

        <div class="cta-col">
          <!-- WhatsApp direct -->
          <a class="btn btn-wa" id="btnWa">
            üí¨ R√©server par WhatsApp
          </a>

          <!-- Appel direct -->
          <a class="btn btn-call" id="btnCall">
            üìû Appeler le propri√©taire
          </a>

          <!-- Enregistrer mode de paiement (Wave) -->
          <button class="btn"
                  style="background:#facc15;color:#111827;"
                  type="button"
                  id="btnSavePayMethod">
            üìù Enregistrer mes infos (Wave)
          </button>

          <!-- Vid√©o pr√©sentation -->
          <a class="btn btn-video"
             href="https://drive.google.com/file/d/1oEVpt1R7fWBAJnKZlPu_fp2gqS-Z1kni/view?usp=sharing"
             target="_blank" rel="noopener">
            üé• Voir la vid√©o de pr√©sentation
          </a>
        </div>
      </div>
    </section>

    <!-- LAYOUT BAS -->
    <section class="layout">
      <!-- BLOC R√âSA AM√âLIOR√â -->
      <article class="card resa-card">
        <div class="resa-header">
          <div class="resa-title-block">
            <h2>R√©server CHEZ BAPTISTE</h2>
            <small>
              Choisissez vos dates, vos infos, puis envoyez en 1 clic sur WhatsApp.
            </small>
          </div>
          <div class="resa-badge">
            <span class="resa-badge-dot"></span>
            <span>0% commission ¬∑ Paiement direct</span>
          </div>
        </div>

        <div class="resa-steps">
          <strong>Comment √ßa marche ?</strong>
          <ul>
            <li>Je choisis mes dates d‚Äôarriv√©e et de d√©part.</li>
            <li>Je renseigne mon nom, mon t√©l√©phone et le nombre de personnes.</li>
            <li>Je clique sur <strong>‚ÄúR√©server par WhatsApp‚Äù</strong> pour parler directement avec le propri√©taire.</li>
          </ul>
        </div>

        <div class="form-grid">
          <div class="field">
            <label class="digiy-label-strong">Date d'arriv√©e</label>
            <input type="date" id="dateIn">
          </div>
          <div class="field">
            <label class="digiy-label-strong">Date de d√©part</label>
            <input type="date" id="dateOut">
          </div>
          <div class="field">
            <label class="digiy-label-strong">Nombre de personnes</label>
            <select id="guests">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4" selected>4</option>
            </select>
          </div>
          <div class="field">
            <label class="digiy-label-strong">Votre nom</label>
            <input type="text" id="clientName" placeholder="Votre nom">
          </div>
          <div class="field">
            <label class="digiy-label-strong">Votre t√©l√©phone</label>
            <input type="tel" id="clientPhone" placeholder="+221 ...">
          </div>
          <div class="field">
            <label class="digiy-label-strong">Mode de paiement</label>
            <input type="text" value="Wave (paiement direct au propri√©taire)" disabled>
          </div>
        </div>

        <div class="summary resa-summary-box" id="summary">
          S√©lectionnez vos dates d'arriv√©e et de d√©part pour voir le nombre de nuits
          et une estimation en tarif nuit (30 000 F / nuit). Le tarif final sera valid√©
          avec le propri√©taire sur WhatsApp.
        </div>
      </article>

      <!-- Infos pratiques + coordonn√©es & Wave -->
      <article class="card">
        <h2 class="digiy-title-strong">Infos pratiques & contacts</h2>
        <small class="digiy-label-strong">Quelques points importants pour votre s√©jour.</small>

        <ul style="margin:8px 0 0 16px; padding:0; font-size:13px;">
          <li>Quartier paisible, sans bruyance.</li>
          <li>Appartement pour 4 personnes maximum.</li>
          <li>Tarifs : 30 000 F / nuit ¬∑ 175 000 F / semaine ¬∑ 550 000 F / mois.</li>
          <li>S√©n√©lec en sus selon consommation.</li>
          <li>R√©servation et confirmation par WhatsApp ou appel direct.</li>
          <li class="digiy-black-strong">Propri√©taire : Jean Baptiste Beauville</li>
          <li>Paiement direct au propri√©taire par Wave.</li>
        </ul>

        <div style="margin-top:10px;font-size:12px;line-height:1.6;">
          WhatsApp principal : 
          <a class="inline-link"
             href="https://wa.me/221771342889"
             target="_blank" rel="noopener">
            +221 77 134 28 89
          </a><br>

          WhatsApp / t√©l√©phone secondaire : 
          <a class="inline-link"
             href="https://wa.me/221778765785"
             target="_blank" rel="noopener">
            +221 77 876 57 86
          </a><br><br>

          <strong class="digiy-label-strong">Num√©ro Wave (paiement) :</strong><br>
          <span class="pay-number">+221 77 134 28 89</span><br>
          <span class="pay-note">‚úî √Ä utiliser dans votre application Wave</span>
          <br><br>

          Appel direct : 
          <a class="inline-link"
             href="tel:+221771342889">
            üìû +221 77 134 28 89
          </a><br><br>

          Vid√©o de pr√©sentation : 
          <a class="inline-link"
             href="https://drive.google.com/file/d/1oEVpt1R7fWBAJnKZlPu_fp2gqS-Z1kni/view?usp=sharing"
             target="_blank" rel="noopener">
            üé• Voir la vid√©o
          </a><br>

          Visuel DIGIY : 
          <a class="inline-link"
             href="https://digiylyfe.com/wp-content/uploads/2025/06/042-BAPTISTE.png"
             target="_blank" rel="noopener">
            üì∏ Voir la photo
          </a>
        </div>
      </article>
    </section>
  </main>

  <footer>
    CHEZ BAPTISTE ‚Äî Saly ¬∑ Module DIGIY LOC personnalis√© ¬∑ Contact WhatsApp : +221 77 134 28 89 / +221 77 876 57 85
  </footer>
</div>

<script>
function formatMoney(x){
  return (x||0).toLocaleString("fr-FR") + " F";
}

// CONSTANTES PROPRIO / PAIEMENT
const OWNER_NAME       = "Jean Baptiste Beauville";
const OWNER_WA_ID      = "221771342889";      // ID WhatsApp (sans +)
const OWNER_PHONE_MAIN = "+221771342889";
const OWNER_PHONE_SEC  = "+221778765785";
const WAVE_PHONE       = "+221771342889";     // Wave uniquement

const dateIn      = document.getElementById("dateIn");
const dateOut     = document.getElementById("dateOut");
const guests      = document.getElementById("guests");
const clientName  = document.getElementById("clientName");
const clientPhone = document.getElementById("clientPhone");
const summary     = document.getElementById("summary");
const btnWa       = document.getElementById("btnWa");
const btnCall     = document.getElementById("btnCall");
const btnSavePayMethod = document.getElementById("btnSavePayMethod");

function getNights(){
  if(!dateIn.value || !dateOut.value) return 0;
  const d1 = new Date(dateIn.value);
  const d2 = new Date(dateOut.value);
  const diff = d2 - d1;
  if(isNaN(diff) || diff <= 0) return 0;
  return Math.round(diff / (1000*60*60*24));
}

function updateSummary(){
  const nights = getNights();
  const g = Number(guests.value||"1");
  if(!nights){
    summary.innerHTML = `
      S√©lectionnez vos dates d'arriv√©e et de d√©part pour voir le nombre de nuits
      et une estimation en tarif nuit (30 000 F / nuit). Le tarif final sera valid√©
      avec le propri√©taire sur WhatsApp.
    `;
    return;
  }
  const totalNight = nights * 30000;
  summary.innerHTML = `
    <div>S√©jour de <strong>${nights}</strong> nuit(s) pour <strong>${g}</strong> personne(s) (max 4).</div>
    <div>Estimation en tarif nuit (30 000 F / nuit) : <strong>${formatMoney(totalNight)}</strong>.</div>
    <div style="margin-top:4px;font-size:12px;">
      Tarifs indicatifs : <strong>175 000 F</strong> la semaine ¬∑ <strong>450 000 F</strong> le mois (S√©n√©lec en sus).<br>
      Le tarif final sera confirm√© avec le propri√©taire lors de l‚Äô√©change WhatsApp.
    </div>
  `;
}

[dateIn, dateOut, guests].forEach(el=>{
  el.addEventListener("change", updateSummary);
});

// Libell√© mode de paiement (Wave fixed)
function getPayMethodLabel(){
  return "Wave (" + WAVE_PHONE + ")";
}

// WhatsApp bouton dynamique (demande de r√©servation)
btnWa.addEventListener("click", ()=>{
  const nights = getNights();
  const g = Number(guests.value||"1");
  const name = clientName.value.trim() || "Client";
  const phoneClient = clientPhone.value.trim() || "Non communiqu√©";

  let txt = "Bonjour, je souhaite une r\u00e9servation pour l'appartement CHEZ BAPTISTE \u00e0 Saly.%0A";
  txt += "- Nom : " + name + "%0A";
  txt += "- T\u00e9l\u00e9phone : " + phoneClient + "%0A";
  if(dateIn.value && dateOut.value){
    txt += "- Dates : du " + dateIn.value + " au " + dateOut.value + " (" + nights + " nuit(s))%0A";
  }
  txt += "- Nombre de personnes : " + g + "%0A";
  txt += "- Mode de paiement pr\u00e9vu : " + getPayMethodLabel() + "%0A";
  txt += "- Tarifs DIGIY LOC : Nuit 30 000 F / Semaine 175 000 F / Mois 550 000 F (S\u00e9n\u00e9lec en sus).%0A";
  txt += "%0AMerci de me confirmer la disponibilit\u00e9.";
  const url = "https://wa.me/" + OWNER_WA_ID + "?text=" + txt;
  window.open(url, "_blank");
});

// Appel direct
btnCall.addEventListener("click", ()=>{
  window.location.href = "tel:" + OWNER_PHONE_MAIN;
});

// Enregistrer le mode de paiement (Wave) + donn√©es client
btnSavePayMethod.addEventListener("click", ()=>{
  const nights = getNights();
  const g = Number(guests.value||"1");
  const name = clientName.value.trim() || "Client";
  const phoneClient = clientPhone.value.trim() || "Non communiqu√©";
  const methodLabel = getPayMethodLabel();

  const bookingData = {
    logementId: "CHEZ-BAPTISTE-SN-LOC",
    ownerName: OWNER_NAME,
    ownerPhone: OWNER_PHONE_MAIN,
    clientName: name,
    clientPhone: phoneClient,
    dateIn: dateIn.value || null,
    dateOut: dateOut.value || null,
    nights,
    guests: g,
    payMethod: "wave",
    payMethodLabel: methodLabel,
    createdAt: new Date().toISOString()
  };

  console.log("DIGIY LOC ‚Äî booking enregistr√© (local, √† connecter √† la base) :", bookingData);

  let txt = "Bonjour, je viens d'enregistrer mes infos pour CHEZ BAPTISTE \u00e0 Saly.%0A";
  txt += "- Nom : " + name + "%0A";
  txt += "- T\u00e9l\u00e9phone : " + phoneClient + "%0A";
  if(dateIn.value && dateOut.value){
    txt += "- S\u00e9jour : du " + dateIn.value + " au " + dateOut.value + " (" + nights + " nuit(s))%0A";
  }
  txt += "- Nombre de personnes : " + g + "%0A";
  txt += "- Mode de paiement pr\u00e9vu : " + methodLabel + "%0A";
  txt += "%0AJe ferai le r\u00e8glement directement via mon application Wave.";
  const url = "https://wa.me/" + OWNER_WA_ID + "?text=" + txt;
  window.open(url, "_blank");
});
</script>
</body>
</html>
